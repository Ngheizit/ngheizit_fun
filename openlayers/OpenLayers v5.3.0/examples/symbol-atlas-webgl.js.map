{"version":3,"sources":["webpack:///./symbol-atlas-webgl.js"],"names":["__webpack_require__","r","__webpack_exports__","i","j","_src_ol_Feature_js__WEBPACK_IMPORTED_MODULE_0__","_src_ol_WebGLMap_js__WEBPACK_IMPORTED_MODULE_1__","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_2__","_src_ol_geom_Point_js__WEBPACK_IMPORTED_MODULE_3__","_src_ol_layer_Vector_js__WEBPACK_IMPORTED_MODULE_4__","_src_ol_source_Vector_js__WEBPACK_IMPORTED_MODULE_5__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_6__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_7__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_8__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_9__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_10__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_11__","atlasManager","initialSize","symbolInfo","opacity","scale","fillColor","strokeColor","radiuses","symbolCount","length","symbols","const","info","push","radius","fill","color","stroke","width","points","radius2","angle","feature","geometry","features","Array","e","Math","random","setStyle","image","vectorSource","vector","source","layers","target","document","getElementById","view","center","zoom"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,IAuCIC,EAAGC,EAvCPC,EAAAL,EAAA,IAAAM,EAAAN,EAAA,KAAAO,EAAAP,EAAA,GAAAQ,EAAAR,EAAA,IAAAS,EAAAT,EAAA,IAAAU,EAAAV,EAAA,IAAAW,EAAAX,EAAA,KAAAY,EAAAZ,EAAA,IAAAa,EAAAb,EAAA,IAAAc,EAAAd,EAAA,IAAAe,EAAAf,EAAA,KAAAgB,EAAAhB,EAAA,IAQMiB,EAAe,IAAIN,EAAA,EAAa,CAGpCO,YAAa,MAGTC,EAAa,CAAC,CAClBC,QAAS,EACTC,MAAO,EACPC,UAAW,yBACXC,YAAa,0BACZ,CACDH,QAAS,IACTC,MAAO,KACPC,UAAW,yBACXC,YAAa,0BACZ,CACDH,QAAS,GACTC,MAAO,IACPC,UAAW,yBACXC,YAAa,yBACZ,CACDH,QAAS,EACTC,MAAO,EACPC,UAAW,yBACXC,YAAa,2BAGTC,EAAW,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,IAC7BC,EAAcN,EAAWO,OAASF,EAASE,OAAS,EACpDC,EAAU,GAEhB,IAAKxB,EAAI,EAAGA,EAAIgB,EAAWO,SAAUvB,EAAG,CACtCyB,IAAMC,EAAOV,EAAWhB,GACxB,IAAKC,EAAI,EAAGA,EAAIoB,EAASE,SAAUtB,EAEjCuB,EAAQG,KAAK,IAAIlB,EAAA,EAAY,CAC3BQ,QAASS,EAAKT,QACdC,MAAOQ,EAAKR,MACZU,OAAQP,EAASpB,GACjB4B,KAAM,IAAInB,EAAA,EAAK,CACboB,MAAOJ,EAAKP,YAEdY,OAAQ,IAAIpB,EAAA,EAAO,CACjBmB,MAAOJ,EAAKN,YACZY,MAAO,IAITlB,aAAcA,KAIhBU,EAAQG,KAAK,IAAIf,EAAA,EAAa,CAC5BqB,OAAQ,EACRhB,QAASS,EAAKT,QACdC,MAAOQ,EAAKR,MACZU,OAAQP,EAASpB,GACjBiC,QAAuB,GAAdb,EAASpB,GAClBkC,MAAO,IACPN,KAAM,IAAInB,EAAA,EAAK,CACboB,MAAOJ,EAAKP,YAEdY,OAAQ,IAAIpB,EAAA,EAAO,CACjBmB,MAAOJ,EAAKN,YACZY,MAAO,IAETlB,aAAcA,KAKpBW,IAEIW,EAASC,EADPC,EAAW,IAAIC,MADA,KAGfC,EAAI,KACV,IAAKxC,EAAI,EAAGA,EAJS,MAIWA,EAC9BqC,EAAW,IAAIhC,EAAA,EACb,CAAC,IAAQoC,KAAKC,SAAWF,EAAG,IAAQC,KAAKC,SAAWF,KACtDJ,EAAU,IAAIlC,EAAA,EAAQmC,IACdM,SACN,IAAI9B,EAAA,EAAM,CACR+B,MAAOpB,EAAQxB,EAAIsB,MAGvBgB,EAAStC,GAAKoC,EAGhBX,IAAMoB,EAAe,IAAItC,EAAA,EAAa,CACpC+B,SAAUA,IAENQ,EAAS,IAAIxC,EAAA,EAAY,CAC7ByC,OAAQF,IAGE,IAAI1C,EAAA,EAAI,CAClB6C,OAAQ,CAACF,GACTG,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAIhD,EAAA,EAAK,CACbiD,OAAQ,CAAC,EAAG,GACZC,KAAM","file":"symbol-atlas-webgl.js","sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport Map from '../src/ol/WebGLMap.js';\nimport View from '../src/ol/View.js';\nimport Point from '../src/ol/geom/Point.js';\nimport VectorLayer from '../src/ol/layer/Vector.js';\nimport VectorSource from '../src/ol/source/Vector.js';\nimport {AtlasManager, Circle as CircleStyle, Fill, RegularShape, Stroke, Style} from '../src/ol/style.js';\n\nconst atlasManager = new AtlasManager({\n  // we increase the initial size so that all symbols fit into\n  // a single atlas image\n  initialSize: 512\n});\n\nconst symbolInfo = [{\n  opacity: 1.0,\n  scale: 1.0,\n  fillColor: 'rgba(255, 153, 0, 0.4)',\n  strokeColor: 'rgba(255, 204, 0, 0.2)'\n}, {\n  opacity: 0.75,\n  scale: 1.25,\n  fillColor: 'rgba(70, 80, 224, 0.4)',\n  strokeColor: 'rgba(12, 21, 138, 0.2)'\n}, {\n  opacity: 0.5,\n  scale: 1.5,\n  fillColor: 'rgba(66, 150, 79, 0.4)',\n  strokeColor: 'rgba(20, 99, 32, 0.2)'\n}, {\n  opacity: 1.0,\n  scale: 1.0,\n  fillColor: 'rgba(176, 61, 35, 0.4)',\n  strokeColor: 'rgba(145, 43, 20, 0.2)'\n}];\n\nconst radiuses = [3, 6, 9, 15, 19, 25];\nconst symbolCount = symbolInfo.length * radiuses.length * 2;\nconst symbols = [];\nlet i, j;\nfor (i = 0; i < symbolInfo.length; ++i) {\n  const info = symbolInfo[i];\n  for (j = 0; j < radiuses.length; ++j) {\n    // circle symbol\n    symbols.push(new CircleStyle({\n      opacity: info.opacity,\n      scale: info.scale,\n      radius: radiuses[j],\n      fill: new Fill({\n        color: info.fillColor\n      }),\n      stroke: new Stroke({\n        color: info.strokeColor,\n        width: 1\n      }),\n      // by passing the atlas manager to the symbol,\n      // the symbol will be added to an atlas\n      atlasManager: atlasManager\n    }));\n\n    // star symbol\n    symbols.push(new RegularShape({\n      points: 8,\n      opacity: info.opacity,\n      scale: info.scale,\n      radius: radiuses[j],\n      radius2: radiuses[j] * 0.7,\n      angle: 1.4,\n      fill: new Fill({\n        color: info.fillColor\n      }),\n      stroke: new Stroke({\n        color: info.strokeColor,\n        width: 1\n      }),\n      atlasManager: atlasManager\n    }));\n  }\n}\n\nconst featureCount = 50000;\nconst features = new Array(featureCount);\nlet feature, geometry;\nconst e = 25000000;\nfor (i = 0; i < featureCount; ++i) {\n  geometry = new Point(\n    [2 * e * Math.random() - e, 2 * e * Math.random() - e]);\n  feature = new Feature(geometry);\n  feature.setStyle(\n    new Style({\n      image: symbols[i % symbolCount]\n    })\n  );\n  features[i] = feature;\n}\n\nconst vectorSource = new VectorSource({\n  features: features\n});\nconst vector = new VectorLayer({\n  source: vectorSource\n});\n\nconst map = new Map({\n  layers: [vector],\n  target: document.getElementById('map'),\n  view: new View({\n    center: [0, 0],\n    zoom: 4\n  })\n});\n"],"sourceRoot":""}