{"version":3,"sources":["webpack:///./wmts-hidpi.js"],"names":["__webpack_require__","r","__webpack_exports__","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","_src_ol_format_WMTSCapabilities_js__WEBPACK_IMPORTED_MODULE_2__","_src_ol_has_js__WEBPACK_IMPORTED_MODULE_3__","_src_ol_layer_Tile_js__WEBPACK_IMPORTED_MODULE_4__","_src_ol_source_WMTS_js__WEBPACK_IMPORTED_MODULE_5__","hiDPI","layer","tilePixelRatio","map","target","view","center","zoom","fetch","then","response","text","const","result","read","options","Object","matrixSet","style","addLayer","source"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,GAAAK,EAAAL,EAAA,KAAAM,EAAAN,EAAA,IAAAO,EAAAP,EAAA,GAAAQ,EAAAR,EAAA,KAaMS,EAA6B,EAArBH,EAAA,EACRI,EAAQD,EAAQ,YAAc,iBAC9BE,EAAiBF,EAAQ,EAAI,EAE7BG,EAAM,IAAIT,EAAA,EAAI,CAClBU,OAAQ,MACRC,KAAM,IAAIV,EAAA,EAAK,CACbW,OAAQ,CAAC,QAAS,SAClBC,KAAM,OAIVC,MAjBwB,0DAiBDC,KAAK,SAASC,GACnC,OAAOA,EAASC,SACfF,KAAK,SAASE,GACfC,IAAMC,GAAS,IAAIjB,EAAA,GAAmBkB,KAAKH,GACrCI,EAAUC,OAAAjB,EAAA,EAAAiB,CAAwBH,EAAQ,CAC9CZ,MAAOA,EACPgB,UAAW,aACXC,MAAO,WAETH,EAAQb,eAAiBA,EACzBC,EAAIgB,SAAS,IAAIrB,EAAA,EAAU,CACzBsB,OAAQ,IAAIrB,EAAA,EAAmD","file":"wmts-hidpi.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport WMTSCapabilities from '../src/ol/format/WMTSCapabilities.js';\nimport {DEVICE_PIXEL_RATIO} from '../src/ol/has.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport WMTS, {optionsFromCapabilities} from '../src/ol/source/WMTS.js';\n\n\nconst capabilitiesUrl = 'https://www.basemap.at/wmts/1.0.0/WMTSCapabilities.xml';\n\n// HiDPI support:\n// * Use 'bmaphidpi' layer (pixel ratio 2) for device pixel ratio > 1\n// * Use 'geolandbasemap' layer (pixel ratio 1) for device pixel ratio == 1\nconst hiDPI = DEVICE_PIXEL_RATIO > 1;\nconst layer = hiDPI ? 'bmaphidpi' : 'geolandbasemap';\nconst tilePixelRatio = hiDPI ? 2 : 1;\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    center: [1823849, 6143760],\n    zoom: 11\n  })\n});\n\nfetch(capabilitiesUrl).then(function(response) {\n  return response.text();\n}).then(function(text) {\n  const result = new WMTSCapabilities().read(text);\n  const options = optionsFromCapabilities(result, {\n    layer: layer,\n    matrixSet: 'google3857',\n    style: 'normal'\n  });\n  options.tilePixelRatio = tilePixelRatio;\n  map.addLayer(new TileLayer({\n    source: new WMTS(/** @type {!module:ol/source/WMTS~Options} */ (options))\n  }));\n});\n"],"sourceRoot":""}