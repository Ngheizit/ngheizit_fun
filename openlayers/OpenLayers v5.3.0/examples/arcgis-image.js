(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{392:function(t,i,e){"use strict";e.r(i);var r=e(3),a=e(2),o=e(6),s=e(73),n=e(12),l=e(146),h=e(26),m=e(7),d=e(11),v=e(1),O=e(13),c=e(97),u=e(111),p=function(e){function t(t){var i=t||{};e.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.hidpi_=void 0===i.hidpi||i.hidpi,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:c.b,this.params_=i.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(t,i,e,r){if(void 0===this.url_)return null;i=this.findNearestResolution(i),e=this.hidpi_?e:1;var a=this.image_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==i&&a.getPixelRatio()==e&&Object(v.g)(a.getExtent(),t))return a;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(O.a)(o,this.params_);var s=((t=t.slice())[0]+t[2])/2,n=(t[1]+t[3])/2;if(1!=this.ratio_){var h=this.ratio_*Object(v.E)(t)/2,c=this.ratio_*Object(v.A)(t)/2;t[0]=s-h,t[1]=n-c,t[2]=s+h,t[3]=n+c}var u=i/e,p=Math.ceil(Object(v.E)(t)/u),g=Math.ceil(Object(v.A)(t)/u);t[0]=s-u*p/2,t[2]=s+u*p/2,t[1]=n-u*g/2,t[3]=n+u*g/2,this.imageSize_[0]=p,this.imageSize_[1]=g;var _=this.getRequestUrl_(t,this.imageSize_,e,r,o);return this.image_=new l.a(t,i,e,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(m.a)(this.image_,d.a.CHANGE,this.handleImageChange,this),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(t,i,e,r,a){var o=r.getCode().split(":").pop();a.SIZE=i[0]+","+i[1],a.BBOX=t.join(","),a.BBOXSR=o,a.IMAGESR=o,a.DPI=Math.round(90*e);var s=this.url_,n=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return n==s&&Object(h.a)(!1,50),Object(u.a)(n,a)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},t.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},t.prototype.updateParams=function(t){Object(O.a)(this.params_,t),this.image_=null,this.changed()},t}(c.a),g=[new o.a({source:new n.b}),new s.a({source:new p({ratio:1,params:{},url:"https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StateCityHighway_USA/MapServer"})})];new r.a({layers:g,target:"map",view:new a.a({center:[-10997148,4569099],zoom:4})})}},[[392,0]]]);
//# sourceMappingURL=arcgis-image.js.map