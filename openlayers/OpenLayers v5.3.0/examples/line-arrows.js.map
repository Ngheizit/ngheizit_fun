{"version":3,"sources":["webpack:///./line-arrows.js"],"names":["__webpack_require__","r","__webpack_exports__","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","_src_ol_geom_Point_js__WEBPACK_IMPORTED_MODULE_2__","_src_ol_interaction_Draw_js__WEBPACK_IMPORTED_MODULE_3__","_src_ol_layer_js__WEBPACK_IMPORTED_MODULE_4__","_src_ol_layer_js__WEBPACK_IMPORTED_MODULE_5__","_src_ol_source_js__WEBPACK_IMPORTED_MODULE_6__","_src_ol_source_js__WEBPACK_IMPORTED_MODULE_7__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_8__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_9__","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_10__","raster","source","vector","style","feature","const","geometry","getGeometry","styles","stroke","color","width","forEachSegment","start","end","dx","dy","rotation","Math","atan2","push","image","src","anchor","rotateWithView","layers","target","view","center","zoom","addInteraction","type"],"mappings":"2FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,GAAAK,EAAAL,EAAA,IAAAM,EAAAN,EAAA,IAAAO,EAAAP,EAAA,GAAAQ,EAAAR,EAAA,IAAAS,EAAAT,EAAA,IAAAU,EAAAV,EAAA,IAAAW,EAAAX,EAAA,IAAAY,EAAAZ,EAAA,IAAAa,EAAAb,EAAA,KAQMc,EAAS,IAAIP,EAAA,EAAU,CAC3BQ,OAAQ,IAAIN,EAAA,IAGRM,EAAS,IAAIL,EAAA,EAgCbM,EAAS,IAAIR,EAAA,EAAY,CAC7BO,OAAQA,EACRE,MAhCoB,SAASC,GAC7BC,IAAMC,EAAWF,EAAQG,cACnBC,EAAS,CAEb,IAAIX,EAAA,EAAM,CACRY,OAAQ,IAAIX,EAAA,EAAO,CACjBY,MAAO,UACPC,MAAO,OAqBb,OAhBAL,EAASM,eAAe,SAASC,EAAOC,GACtCT,IAAMU,EAAKD,EAAI,GAAKD,EAAM,GACpBG,EAAKF,EAAI,GAAKD,EAAM,GACpBI,EAAWC,KAAKC,MAAMH,EAAID,GAEhCP,EAAOY,KAAK,IAAIvB,EAAA,EAAM,CACpBS,SAAU,IAAIf,EAAA,EAAMuB,GACpBO,MAAO,IAAItB,EAAA,EAAK,CACduB,IAAK,iBACLC,OAAQ,CAAC,IAAM,IACfC,gBAAgB,EAChBP,UAAWA,SAKVT,KAOG,IAAInB,EAAA,EAAI,CAClBoC,OAAQ,CAACzB,EAAQE,GACjBwB,OAAQ,MACRC,KAAM,IAAIrC,EAAA,EAAK,CACbsC,OAAQ,EAAE,KAAU,MACpBC,KAAM,MAINC,eAAe,IAAItC,EAAA,EAAK,CAC1BS,OAAQA,EACR8B,KAAM","file":"line-arrows.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport Point from '../src/ol/geom/Point.js';\nimport Draw from '../src/ol/interaction/Draw.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Icon, Stroke, Style} from '../src/ol/style.js';\n\nconst raster = new TileLayer({\n  source: new OSM()\n});\n\nconst source = new VectorSource();\n\nconst styleFunction = function(feature) {\n  const geometry = feature.getGeometry();\n  const styles = [\n    // linestring\n    new Style({\n      stroke: new Stroke({\n        color: '#ffcc33',\n        width: 2\n      })\n    })\n  ];\n\n  geometry.forEachSegment(function(start, end) {\n    const dx = end[0] - start[0];\n    const dy = end[1] - start[1];\n    const rotation = Math.atan2(dy, dx);\n    // arrows\n    styles.push(new Style({\n      geometry: new Point(end),\n      image: new Icon({\n        src: 'data/arrow.png',\n        anchor: [0.75, 0.5],\n        rotateWithView: true,\n        rotation: -rotation\n      })\n    }));\n  });\n\n  return styles;\n};\nconst vector = new VectorLayer({\n  source: source,\n  style: styleFunction\n});\n\nconst map = new Map({\n  layers: [raster, vector],\n  target: 'map',\n  view: new View({\n    center: [-11000000, 4600000],\n    zoom: 4\n  })\n});\n\nmap.addInteraction(new Draw({\n  source: source,\n  type: 'LineString'\n}));\n"],"sourceRoot":""}